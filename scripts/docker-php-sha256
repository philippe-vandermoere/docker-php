#!/usr/bin/env sh

set -e

readonly PHP_VERSION=$1
readonly FORMAT=$2

function get_php_tar_bz2_sha256() {
    local php_version=$1

    case ${php_version} in
        '7.1.26')
            echo '5b351ca86bc7e4600778aaf1d61ab9e4e38864efa86ab4cc4d5b02ea7f542ae6'
        ;;
        '7.1.27')
            echo 'dad7ecd30941911528e471c555a01911a68aa9219696bfc1e005f8b669f4ec4b'
        ;;
        '7.1.28')
            echo '739e8733fe1fc5e69e6226da6dba7a31bacfd2e3871ad2c97a792638f22c54c9'
        ;;
        '7.2.14')
            echo 'f56132d248c7bf1e0efc8a680a4b598d6ff73fc6b9c84b5d7b539ad8db7a6597'
        ;;
        '7.2.15')
            echo 'c93e7616946a463911818c7e9f9e21276c7793fb8c7cb15877188dd0546d0554'
        ;;
        '7.2.16')
            echo '2c0ad10053d58694cd14323248ecd6d9ba71d2733d160973c356ad01d09e7f38'
        ;;
        '7.2.17')
            echo '91a811ab6f6d7acb312159cf6b0a3cffe968676fdebf042e9253245cc6094f75'
        ;;
        '7.3.0')
            echo '7a267daec9969a997c5c8028c350229646748e0fcc71e2f2dbb157ddcee87c67'
        ;;
        '7.3.1')
            echo 'afef2b0cd7f2641274a1a0aabe67e30f2334970d7c530382dfa9d79cfe74388e'
        ;;
        '7.3.2')
            echo '946f50dacbd2f61e643bb737021cbe8b1816e780ee7ad3e0cd999a1892ab0add'
        ;;
        '7.3.3')
            echo '61969e943adfea79701a34b8e701edd3f95be829d16601a4aabeb05f83023ce6'
        ;;
        '7.3.4')
            echo '2e2c3d8212c83649e443b61efffbd03df4b9edd0f9c7a679081fe4cb2da12b78'
        ;;
        *)
            exit 1
    esac
}

function get_php_tar_gz_sha256() {
    local php_version=$1

    case ${php_version} in
        '7.1.26')
            echo '7dc40e202140e8b4fb3d992c15a68d98dc06b805e6b218497d260abbe51f5958'
        ;;
        '7.1.26')
            echo '069315d3c3f964fd165bbbb3c2fc56005813e2cf97bed05055318dcc4e775328'
        ;;
        '7.1.27')
            echo '353b9ed341048388cc95e6fa6dab587eee44a3d4d297989aa297936090864357'
        ;;
        '7.1.28')
            echo '4df587338d4c5dfe27050c7ac72a6b7583ecaee9d3fbfc03427667a86e081999'
        ;;
        '7.2.14')
            echo '87e13d80b0c3a66bd463d1cb47dc101335884a0d192ab924f547f8aed7f70c08'
        ;;
        '7.2.15')
            echo '9b13bde9f5a32d6f6bdb8b911bb55bb818d0c4073538f8dc48aa2deb560f55a3'
        ;;
        '7.2.16')
            echo 'fb95e0bb69caba1dfd3bbac4eeef7a0485e5ea3d6191d35ad5657e18243aa02d'
        ;;
        '7.2.17')
            echo 'e1c6c2553cdb7edbfa65b89e259690ed01b31b12d57349c90b6ed00a410f62b5'
        ;;
        '7.3.0')
            echo '391bd0f91d9bdd01ab47ef9607bad8c65e35bc9bb098fb7777b2556e2c847b11'
        ;;
        '7.3.1')
            echo '8006211f7a041dde22fffedc416d142e0ebf22066014077ca936d7e6f655ead5'
        ;;
        '7.3.2')
            echo '4597294b00edc1c63a021b6c7838eb43384f62eeb9e392f0b91c38a3c090f499'
        ;;
        '7.3.3')
            echo '9bde40cbf8608ae9c595a6643a02cf0c692c131e2b3619af3fd2af8425d8e677'
        ;;
        '7.3.4')
            echo 'dd41ecf43fe1172030f41d2581909457a0af7bd137a057c3874e0b0f3c2e8761'
        ;;
        *)
            exit 1
    esac
}

function get_php_tar_xz_sha256() {
    local php_version=$1

    case ${php_version} in
        '7.1.26')
            echo '10b7ae634c12852fae52a22dc2262e5f12418ad59fd20da2d00d71a212235d31'
        ;;
        '7.1.27')
            echo '25672a3a6060eff37c865a0c84e284da50b7ee8cd57174c78f0ae244b90a96a8'
        ;;
        '7.1.28')
            echo '45131497ec0a947e3f9145c000e8fcc1f86b46518ee3f6810d80efa2d39521e2'
        ;;
        '7.2.14')
            echo 'ee3f1cc102b073578a3c53ba4420a76da3d9f0c981c02b1664ae741ca65af84f'
        ;;
        '7.2.15')
            echo '75e90012faef700dffb29311f3d24fa25f1a5e0f70254a9b8d5c794e25e938ce'
        ;;
        '7.2.16')
            echo '7d91ed3c1447c6358a3d53f84599ef854aca4c3622de7435e2df115bf196e482'
        ;;
        '7.2.17')
            echo 'a3e5f51a9ae08813b3925bea3a4de02cd4906fcccf75646e267a213bb63bcf84'
        ;;
        '7.3.0')
            echo '7d195cad55af8b288c3919c67023a14ff870a73e3acc2165a6d17a4850a560b5'
        ;;
        '7.3.1')
            echo 'cfe93e40be0350cd53c4a579f52fe5d8faf9c6db047f650a4566a2276bf33362'
        ;;
        '7.3.2')
            echo '010b868b4456644ae227d05ad236c8b0a1f57dc6320e7e5ad75e86c5baf0a9a8'
        ;;
        '7.3.3')
            echo '6bb03e79a183d0cb059a6d117bbb2e0679cab667fb713a13c6a16f56bebab9b3'
        ;;
        '7.3.4')
            echo '6fe79fa1f8655f98ef6708cde8751299796d6c1e225081011f4104625b923b83'
        ;;
        *)
            exit 1
    esac
}

case ${FORMAT} in
    'tar.bz2')
        echo "$(get_php_tar_bz2_sha256 ${PHP_VERSION})"
    ;;
    'tar.gz')
        echo "$(get_php_tar_gz_sha256 ${PHP_VERSION})"
    ;;
    'tar.xz')
        echo "$(get_php_tar_xz_sha256 ${PHP_VERSION})"
    ;;
    *)
        echo "Unsupported format ${FORMAT}"
        exit 1
esac
